(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1734:(e,t,r)=>{Promise.resolve().then(r.bind(r,9619))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2596),s=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var a=r(5155),s=r(2115);let l="http://127.0.0.1:5000/tasks";var n=r(221),o=r(2177),i=r(5594),c=r(9708),d=r(2085),m=r(9434);let u=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:n=!1,...o}=e,i=n?c.DX:"button";return(0,a.jsx)(i,{className:(0,m.cn)(u({variant:s,size:l,className:r})),ref:t,...o})});x.displayName="Button";var f=r(968);let h=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(f.b,{ref:t,className:(0,m.cn)(h(),r),...s})});g.displayName=f.b.displayName;let p=o.Op,b=s.createContext({}),j=e=>{let{...t}=e;return(0,a.jsx)(b.Provider,{value:{name:t.name},children:(0,a.jsx)(o.xI,{...t})})},v=()=>{let e=s.useContext(b),t=s.useContext(N),{getFieldState:r,formState:a}=(0,o.xW)(),l=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},N=s.createContext({}),k=s.forwardRef((e,t)=>{let{className:r,...l}=e,n=s.useId();return(0,a.jsx)(N.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,m.cn)("space-y-2",r),...l})})});k.displayName="FormItem",s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:l,formItemId:n}=v();return(0,a.jsx)(g,{ref:t,className:(0,m.cn)(l&&"text-destructive",r),htmlFor:n,...s})}).displayName="FormLabel";let y=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:l,formDescriptionId:n,formMessageId:o}=v();return(0,a.jsx)(c.DX,{ref:t,id:l,"aria-describedby":s?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!s,...r})});y.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:l}=v();return(0,a.jsx)("p",{ref:t,id:l,className:(0,m.cn)("text-sm text-muted-foreground",r),...s})}).displayName="FormDescription";let w=s.forwardRef((e,t)=>{var r;let{className:s,children:l,...n}=e,{error:o,formMessageId:i}=v(),c=o?String(null!==(r=null==o?void 0:o.message)&&void 0!==r?r:""):l;return c?(0,a.jsx)("p",{ref:t,id:i,className:(0,m.cn)("text-sm font-medium text-destructive",s),...n,children:c}):null});w.displayName="FormMessage";let C=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,m.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});C.displayName="Input";var S=r(4301);let F=i.z.object({taskText:i.z.string().min(1,{message:"Task cannot be empty."}).max(100,{message:"Task is too long."})});function A(e){let{onAddTask:t}=e,r=(0,o.mN)({resolver:(0,n.u)(F),defaultValues:{taskText:""}});return(0,a.jsx)(p,{...r,children:(0,a.jsxs)("form",{onSubmit:r.handleSubmit(function(e){t(e.taskText),r.reset()}),className:"flex gap-2 mb-4",children:[(0,a.jsx)(j,{control:r.control,name:"taskText",render:e=>{let{field:t}=e;return(0,a.jsxs)(k,{className:"flex-grow",children:[(0,a.jsx)(y,{children:(0,a.jsx)(C,{placeholder:"Add a new task...",...t})}),(0,a.jsx)(w,{})]})}}),(0,a.jsxs)(x,{type:"submit",variant:"outline",className:"bg-accent text-accent-foreground hover:bg-accent/90",children:[(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Task"]})]})})}var T=r(7484),E=r(518);let R=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(T.bL,{ref:t,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(T.C1,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})})});R.displayName=T.bL.displayName;var I=r(462),q=r(7223);function z(e){let{task:t,onToggleComplete:r,onDelete:s,onToggleStar:l}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-border last:border-b-0 hover:bg-secondary/50 transition-colors duration-150",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-grow",children:[(0,a.jsx)(R,{id:"task-".concat(t.id),checked:t.completed,onCheckedChange:()=>r(t.id),"aria-label":t.completed?"Mark task as incomplete":"Mark task as complete"}),(0,a.jsx)("label",{htmlFor:"task-".concat(t.id),className:(0,m.cn)("text-sm cursor-pointer transition-all flex-grow",t.completed?"line-through text-muted-foreground":"text-foreground"),children:t.text})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>l(t.id),"aria-label":t.starred?"Unstar task":"Star task",className:(0,m.cn)("text-muted-foreground hover:text-yellow-500",t.starred&&"text-yellow-400 hover:text-yellow-500"),children:(0,a.jsx)(I.A,{className:(0,m.cn)("h-4 w-4",t.starred&&"fill-current")})}),(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>s(t.id),"aria-label":"Delete task",className:"text-muted-foreground hover:text-destructive",children:(0,a.jsx)(q.A,{className:"h-4 w-4"})})]})]})}function P(e){let{tasks:t,onToggleComplete:r,onDelete:s,onToggleStar:l}=e;if(0===t.length)return(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No tasks yet. Add one above!"});let n=[...t].sort((e,t)=>e.starred!==t.starred?e.starred?-1:1:e.completed!==t.completed?e.completed?1:-1:t.createdAt-e.createdAt);return(0,a.jsx)("div",{className:"space-y-1 mt-2",children:n.map(e=>(0,a.jsx)(z,{task:e,onToggleComplete:r,onDelete:s,onToggleStar:l},e.id))})}let D=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});D.displayName="Card";let _=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("flex flex-col space-y-1.5 p-6",r),...s})});_.displayName="CardHeader";let L=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});L.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let W=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("p-6 pt-0",r),...s})});W.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var M=r(9099),O=r(8271),B=r(3764),U=r(3300),J=r(8531),Q=r(1008);function V(e){let{onWorkSessionStart:t}=e,[r,l]=(0,s.useState)(String(25)),[n,o]=(0,s.useState)(String(5)),[i,c]=(0,s.useState)(1500),[d,m]=(0,s.useState)(!1),[u,f]=(0,s.useState)("work"),[h,p]=(0,s.useState)(0),[b,j]=(0,s.useState)(!1),v=(0,s.useCallback)((e,t,r)=>{let a=parseInt("work"===e?t:r,10);return isNaN(a)||a<=0?60*("work"===e?25:5):60*a},[]),N=(0,s.useCallback)(()=>v("work",r,n),[r,n,v]),k=(0,s.useCallback)(()=>v("break",r,n),[r,n,v]),y=(0,s.useCallback)(e=>{m(!1),c("work"===e?N():k())},[N,k]);return(0,s.useEffect)(()=>{let e=null;return d&&i>0?e=setInterval(()=>{c(e=>e-1)},1e3):d&&0===i&&(m(!1),"work"===u?(p(e=>e+1),f("break"),c(k())):(f("work"),c(N()))),()=>{e&&clearInterval(e)}},[d,i,u,N,k]),(0,a.jsxs)(D,{className:"shadow-xl rounded-lg overflow-hidden",children:[(0,a.jsx)(_,{className:"bg-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(M.A,{className:"h-6 w-6 mr-2 text-primary"}),(0,a.jsx)(L,{className:"font-headline text-2xl text-primary",children:"Pomodoro"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Completed: ",h]}),(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>j(!b),"aria-label":"Timer settings",className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(O.A,{className:"h-5 w-5"})})]})]})}),(0,a.jsxs)(W,{className:"p-4 sm:p-6 text-center flex flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"text-base font-medium text-muted-foreground mb-1",children:"work"===u?"Work Time":"Short Break"}),b&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6 w-full max-w-xs border-y py-4 my-2 border-border/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"work-duration",className:"text-sm font-medium text-muted-foreground",children:"Work (min)"}),(0,a.jsx)(C,{id:"work-duration",type:"number",value:r,onChange:e=>{let t=e.target.value;if(l(t),!d&&"work"===u){let e=parseInt(t,10);c(isNaN(e)||e<=0?1500:60*e)}},disabled:d,min:"1",className:"mt-1 text-center"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"break-duration",className:"text-sm font-medium text-muted-foreground",children:"Break (min)"}),(0,a.jsx)(C,{id:"break-duration",type:"number",value:n,onChange:e=>{let t=e.target.value;if(o(t),!d&&"break"===u){let e=parseInt(t,10);c(isNaN(e)||e<=0?300:60*e)}},disabled:d,min:"1",className:"mt-1 text-center"})]})]}),(0,a.jsx)("div",{className:"text-6xl font-bold text-foreground my-4 tabular-nums","aria-live":"polite",children:(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(i)}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-2 w-full justify-center flex-wrap",children:[(0,a.jsxs)(x,{onClick:()=>{!d&&"work"===u&&i===N()&&t&&t(),m(!d)},variant:"outline",className:"bg-accent text-accent-foreground hover:bg-accent/90 w-28","aria-label":d?"Pause timer":"Start timer",children:[d?(0,a.jsx)(B.A,{className:"mr-2 h-5 w-5"}):(0,a.jsx)(U.A,{className:"mr-2 h-5 w-5"}),d?"Pause":"Start"]}),(0,a.jsxs)(x,{onClick:()=>{y(u)},variant:"outline",className:"w-28","aria-label":"Reset current interval",children:[(0,a.jsx)(J.A,{className:"mr-2 h-5 w-5"}),"Reset"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-4 w-full justify-center",children:[(0,a.jsxs)(x,{onClick:()=>{m(!1),"work"===u?(f("break"),c(k())):(f("work"),c(N()))},variant:"link",size:"sm",className:"text-muted-foreground hover:text-primary","aria-label":"Skip to ".concat("work"===u?"Break":"Work"),children:["Skip to ","work"===u?"Break":"Work"]}),(0,a.jsxs)(x,{onClick:()=>{m(!1),f("work"),l(String(25)),o(String(5)),c(1500),p(0),j(!1)},variant:"link",size:"sm",className:"text-muted-foreground hover:text-destructive","aria-label":"Reset settings and count",children:[(0,a.jsx)(Q.A,{className:"mr-1 h-4 w-4"}),"Full Reset"]})]})]})]})}var X=r(111),Y=r(1758);r(5760);var H=r(1386),$=r(7554);function G(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0),[n,o]=(0,s.useState)(null),i=(0,s.useCallback)(async()=>{l(!0),o(null);try{let e=await fetch("http://127.0.0.1:5000/quote");if(!e.ok)throw Error("Failed to fetch quote: ".concat(e.status," ").concat(e.statusText));let r=await e.json(),a=null;Array.isArray(r)&&r.length>0?a=r[0]:r&&"object"==typeof r&&!Array.isArray(r)&&(a=r);let s="",l="";a&&"object"==typeof a&&("string"==typeof a.quote&&""!==a.quote.trim()?s=a.quote.trim():"string"==typeof a.text&&""!==a.text.trim()&&(s=a.text.trim()),"string"==typeof a.author&&""!==a.author.trim()&&(l=a.author.trim()),"string"==typeof a.category&&a.category),s&&l?(t({quote:s,author:l,tags:a.tags}),o(null)):(console.warn("Unexpected API response structure, empty content, or not a valid quote object:",a,"Raw API data:",r),o("No valid quote received from API."),t(null))}catch(e){console.error("Error fetching quote:",e),o(e.message&&e.message.startsWith("Failed to fetch")?e.message:"Could not load quote."),t(null)}finally{l(!1)}},[]);(0,s.useEffect)(()=>{i()},[i]);let c={motivation:"blue",inspiration:"green",life:"purple",success:"yellow",wisdom:"teal",love:"pink"};return(0,a.jsxs)(D,{className:"shadow-xl rounded-lg overflow-hidden",children:[(0,a.jsx)(_,{className:"bg-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(H.A,{className:"h-6 w-6 mr-2 text-primary"}),(0,a.jsx)(L,{className:"font-headline text-2xl text-primary",children:"Inspirational Quote"})]}),(0,a.jsx)(x,{variant:"ghost",size:"icon",onClick:i,disabled:r,"aria-label":"Refresh quote",className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)($.A,{className:"h-4 w-4 ".concat(r?"animate-spin":"")})})]})}),(0,a.jsxs)(W,{className:"p-4 sm:p-6 min-h-[150px] flex flex-col justify-center items-center text-center",children:[r&&(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading quote..."}),n&&(0,a.jsx)("p",{className:"text-destructive",children:n}),!r&&!n&&e&&(0,a.jsxs)("figure",{children:[(0,a.jsxs)("blockquote",{className:"text-lg italic text-foreground",children:['"',e.quote,'"']}),(0,a.jsxs)("figcaption",{className:"text-right text-sm text-muted-foreground mt-3",children:["— ",e.author]}),(0,a.jsx)("figcaption",{className:"text-left text-sm text-muted-foreground mt-3",children:(0,a.jsx)(X.s,{gap:"2",wrap:"wrap",children:e.tags.map((e,t)=>(0,a.jsx)(Y.E,{color:c[e.toLowerCase()]||"indigo",variant:"solid",radius:"large",style:{padding:"0.5rem"},className:"mb-1 inline-flex gap-2 p-2 mr-2 cursor-pointer opacity-80 transition-opacity",children:e},t))})})]}),!r&&!n&&!e&&(0,a.jsx)("p",{className:"text-muted-foreground",children:n||"No quote available. Try refreshing."})]})]})}var K=r(5798);function Z(){let{tasks:e,loading:t,error:r,addTask:n,updateTask:o,deleteTask:i}=function(){let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[n,o]=(0,s.useState)(null),i=(0,s.useCallback)(async()=>{try{let e=await fetch(l);if(!e.ok)throw Error("Failed to fetch tasks");let r=await e.json();t(r),o(null)}catch(e){o(e instanceof Error?e.message:"Unknown error")}finally{a(!1)}},[]),c=(0,s.useCallback)(async e=>{try{let r=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})});if(!r.ok)throw Error("Failed to add task");let a=await r.json();t(e=>[a,...e])}catch(e){o(e instanceof Error?e.message:"Failed to add task")}},[]),d=(0,s.useCallback)(async(e,r)=>{try{let a=await fetch("".concat(l,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error("Failed to update task");let s=await a.json();t(t=>t.map(t=>t.id===e?s:t))}catch(e){o(e instanceof Error?e.message:"Failed to update task")}},[]),m=(0,s.useCallback)(async e=>{try{if(!(await fetch("".concat(l,"/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete task");t(t=>t.filter(t=>t.id!==e))}catch(e){o(e instanceof Error?e.message:"Failed to delete task")}},[]);return(0,s.useEffect)(()=>{i()},[i]),{tasks:e,loading:r,error:n,addTask:c,updateTask:d,deleteTask:m}}(),[c,d]=(0,s.useState)(0),m=(0,s.useCallback)(e=>{n(e)},[n]),u=(0,s.useCallback)(t=>{let r=e.find(e=>e.id===t);r&&o(t,{completed:!r.completed})},[e,o]),x=(0,s.useCallback)(t=>{let r=e.find(e=>e.id===t);r&&o(t,{starred:!r.starred})},[e,o]),f=(0,s.useCallback)(e=>{i(e)},[i]),h=(0,s.useCallback)(()=>{d(e=>e+1)},[]);return(0,a.jsxs)("div",{className:"min-h-screen bg-background text-foreground p-4 sm:p-6 md:p-8 flex flex-col items-center font-body",children:[(0,a.jsxs)("header",{className:"mb-8 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center text-primary",children:[(0,a.jsx)(K.A,{size:40,className:"mr-2"}),(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl font-headline font-bold",children:"FocusFlow"})]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Your sanctuary for productivity and peace."})]}),(0,a.jsxs)("main",{className:"w-full max-w-5xl grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(D,{className:"shadow-xl rounded-lg overflow-hidden",children:[(0,a.jsx)(_,{className:"bg-card",children:(0,a.jsx)(L,{className:"font-headline text-2xl text-primary",children:"My Tasks"})}),(0,a.jsxs)(W,{className:"p-4 sm:p-6",children:[(0,a.jsx)(A,{onAddTask:m}),t&&(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"Loading tasks..."}),r&&(0,a.jsx)("p",{className:"text-center text-destructive py-4",children:r}),!t&&!r&&(0,a.jsx)(P,{tasks:e,onToggleComplete:u,onDelete:f,onToggleStar:x})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)(V,{onWorkSessionStart:h}),(0,a.jsx)(G,{},c)]})]}),(0,a.jsx)("footer",{className:"mt-12 text-center text-sm text-muted-foreground",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," FocusFlow. Crafted for concentration."]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[193,61,542,441,684,358],()=>t(1734)),_N_E=e.O()}]);